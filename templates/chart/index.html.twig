{% extends 'base.html.twig' %}

{% block content %}
    <!-- Your other HTML content goes here -->

    <div class="container">
        <div class="card card-xl-stretch mb-5 mb-xl-8" style="width: 770px;">
            <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                <h1 class="m-0 font-weight-bold text-primary">
                    <font style="color:#8DD3BB;">Statistique</font>
                </h1>
            </div>
            <div class="card-body">
                <div id="piechart" style="width: 100%; height: 500px;"></div>
            </div>
        </div>
    </div>

    <!-- Load Google Charts -->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

    <!-- Draw Pie Chart -->
    <script type="text/javascript">
        google.charts.load('current', { 'packages': ['corechart'] });
        google.charts.setOnLoadCallback(drawChart);

        function drawChart() {
            var data = google.visualization.arrayToDataTable([
                ['Type', 'Count'],
                ['Diamant', {{ nb_diamant }}],
                ['Silver', {{ nb_silver }}],
                ['VIP', {{ nb_vip }}]
            ]);

            var options = {
                title: '',
                colors: ['#e1bee7', '#ffcc80', '#8DD3BB'],
                backgroundColor: '#f2f2f2',
                pieSliceTextStyle: { color: 'black' },
                titleTextStyle: { color: '#100677', fontSize: 20 },
                legend: { position: 'bottom' }
            };

            var chart = new google.visualization.PieChart(document.getElementById('piechart'));
            chart.draw(data, options);
        }
    </script>
{% endblock %}
